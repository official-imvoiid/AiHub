{
  "id": "440479ac-34a7-481d-ba9a-b00c7acedd34",
  "revision": 0,
  "last_node_id": 76,
  "last_link_id": 59,
  "nodes": [
    {
      "id": 3,
      "type": "LoraTagsOnly",
      "pos": [
        158.14747619628906,
        -22.489669799804688
      ],
      "size": [
        312.76953125,
        126
      ],
      "flags": {},
      "order": 0,
      "mode": 4,
      "inputs": [
        {
          "name": "override_lora_name",
          "shape": 7,
          "type": "STRING",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "civitai_tags_list",
          "type": "LIST",
          "links": [
            4
          ]
        },
        {
          "name": "meta_tags_list",
          "type": "LIST",
          "links": [
            8
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-lora-auto-trigger-words",
        "ver": "1.1.0",
        "Node name for S&R": "LoraTagsOnly"
      },
      "widgets_values": [
        "kurumi_tokisaki_il_0-000035.safetensors",
        false,
        false
      ]
    },
    {
      "id": 11,
      "type": "LoadImage",
      "pos": [
        2030.8544921875,
        -477.0588684082031
      ],
      "size": [
        508.6667175292969,
        547.505615234375
      ],
      "flags": {},
      "order": 1,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            7
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "example.png",
        "image"
      ]
    },
    {
      "id": 12,
      "type": "PreviewAny",
      "pos": [
        1956.41162109375,
        133.7198486328125
      ],
      "size": [
        743.5178833007812,
        420.5652160644531
      ],
      "flags": {},
      "order": 12,
      "mode": 4,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 9
        }
      ],
      "outputs": [],
      "title": "Tags",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": []
    },
    {
      "id": 6,
      "type": "PreviewAny",
      "pos": [
        620.9722900390625,
        -321.6247253417969
      ],
      "size": [
        489.7178649902344,
        344.0105285644531
      ],
      "flags": {},
      "order": 6,
      "mode": 4,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 4
        }
      ],
      "outputs": [],
      "title": "Tags List",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": []
    },
    {
      "id": 7,
      "type": "PreviewAny",
      "pos": [
        616.6778564453125,
        94.4498062133789
      ],
      "size": [
        491.73260498046875,
        282.4991760253906
      ],
      "flags": {},
      "order": 7,
      "mode": 4,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 8
        }
      ],
      "outputs": [],
      "title": "MetaData",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": []
    },
    {
      "id": 32,
      "type": "SaveImage",
      "pos": [
        1969.7181396484375,
        842.638427734375
      ],
      "size": [
        311.0797119140625,
        331.61956787109375
      ],
      "flags": {},
      "order": 13,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 21
        }
      ],
      "outputs": [],
      "title": "Save Masked Image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59"
      },
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 29,
      "type": "LoadImageMask",
      "pos": [
        1365.0474853515625,
        851.154296875
      ],
      "size": [
        274.080078125,
        318.0001220703125
      ],
      "flags": {},
      "order": 2,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            19
          ]
        }
      ],
      "title": "Load Image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "LoadImageMask"
      },
      "widgets_values": [
        "example.png",
        "red",
        "image"
      ]
    },
    {
      "id": 30,
      "type": "MaskToImage",
      "pos": [
        1690.2989501953125,
        766.1561279296875
      ],
      "size": [
        207.32554626464844,
        27.0810489654541
      ],
      "flags": {},
      "order": 9,
      "mode": 4,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 19
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            21
          ]
        }
      ],
      "title": "Mask Image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "MaskToImage"
      }
    },
    {
      "id": 9,
      "type": "WD14Tagger|pysssss",
      "pos": [
        1371.8638916015625,
        -96.27356719970703
      ],
      "size": [
        270.06640625,
        178
      ],
      "flags": {},
      "order": 8,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 7
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "shape": 6,
          "type": "STRING",
          "links": [
            9
          ]
        }
      ],
      "title": "WD14 Tagger",
      "properties": {
        "cnr_id": "comfyui-wd14-tagger",
        "ver": "1.0.1",
        "Node name for S&R": "WD14Tagger|pysssss"
      },
      "widgets_values": [
        "wd-eva02-large-tagger-v3",
        0.35,
        0.85,
        false,
        false,
        ""
      ]
    },
    {
      "id": 19,
      "type": "GetImageSize",
      "pos": [
        561.8308715820312,
        713.7726440429688
      ],
      "size": [
        210,
        152.05799865722656
      ],
      "flags": {},
      "order": 10,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 37
        }
      ],
      "outputs": [
        {
          "name": "width",
          "type": "INT",
          "links": [
            38
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            39
          ]
        },
        {
          "name": "batch_size",
          "type": "INT",
          "links": [
            40
          ]
        }
      ],
      "title": "Image Size",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "GetImageSize"
      }
    },
    {
      "id": 55,
      "type": "PreviewAny",
      "pos": [
        1018.0330810546875,
        539.3247680664062
      ],
      "size": [
        210,
        88
      ],
      "flags": {},
      "order": 14,
      "mode": 4,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 38
        }
      ],
      "outputs": [],
      "title": "Width",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": []
    },
    {
      "id": 54,
      "type": "LoadImage",
      "pos": [
        132.93643188476562,
        607.5841674804688
      ],
      "size": [
        320.5381774902344,
        328.9300231933594
      ],
      "flags": {},
      "order": 3,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            37
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "example.png",
        "image"
      ]
    },
    {
      "id": 57,
      "type": "PreviewAny",
      "pos": [
        1019.3294677734375,
        673.5471801757812
      ],
      "size": [
        210,
        88
      ],
      "flags": {},
      "order": 15,
      "mode": 4,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 39
        }
      ],
      "outputs": [],
      "title": "Hight",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": []
    },
    {
      "id": 58,
      "type": "PreviewAny",
      "pos": [
        1019.7698974609375,
        837.6304931640625
      ],
      "size": [
        210,
        88
      ],
      "flags": {},
      "order": 16,
      "mode": 4,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 40
        }
      ],
      "outputs": [],
      "title": "Batch Size",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": []
    },
    {
      "id": 69,
      "type": "Metadata extractor [Crystools]",
      "pos": [
        474.11297607421875,
        1203.006103515625
      ],
      "size": [
        201.076171875,
        126
      ],
      "flags": {},
      "order": 11,
      "mode": 4,
      "inputs": [
        {
          "name": "metadata_raw",
          "type": "METADATA_RAW",
          "link": 52
        }
      ],
      "outputs": [
        {
          "name": "prompt",
          "type": "JSON",
          "links": []
        },
        {
          "name": "workflow",
          "type": "JSON",
          "links": null
        },
        {
          "name": "file info",
          "type": "JSON",
          "links": [
            54
          ]
        },
        {
          "name": "raw to JSON",
          "type": "JSON",
          "links": [
            56
          ]
        },
        {
          "name": "raw to property",
          "type": "STRING",
          "links": null
        },
        {
          "name": "raw to csv",
          "type": "STRING",
          "links": []
        }
      ],
      "title": "Metadata Extractor",
      "properties": {
        "cnr_id": "comfyui-crystools",
        "ver": "1.27.3",
        "Node name for S&R": "Metadata extractor [Crystools]"
      }
    },
    {
      "id": 72,
      "type": "PreviewAny",
      "pos": [
        482.38970947265625,
        1386.2452392578125
      ],
      "size": [
        646.6250610351562,
        701.5714111328125
      ],
      "flags": {},
      "order": 18,
      "mode": 4,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 56
        }
      ],
      "outputs": [],
      "title": "JSON",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": []
    },
    {
      "id": 64,
      "type": "Load image with metadata [Crystools]",
      "pos": [
        80.64911651611328,
        1224.25927734375
      ],
      "size": [
        363.3686218261719,
        435.0999755859375
      ],
      "flags": {},
      "order": 4,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": []
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null
        },
        {
          "name": "prompt",
          "type": "JSON",
          "links": []
        },
        {
          "name": "Metadata RAW",
          "type": "METADATA_RAW",
          "links": [
            52
          ]
        }
      ],
      "title": "Load Image",
      "properties": {
        "cnr_id": "comfyui-crystools",
        "ver": "1.27.3",
        "Node name for S&R": "Load image with metadata [Crystools]"
      },
      "widgets_values": [
        "example.png",
        "image"
      ]
    },
    {
      "id": 70,
      "type": "PreviewAny",
      "pos": [
        700.3799438476562,
        1138.35693359375
      ],
      "size": [
        543.0281982421875,
        198.69114685058594
      ],
      "flags": {},
      "order": 17,
      "mode": 4,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 54
        }
      ],
      "outputs": [],
      "title": "FILE INFO",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.59",
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": []
    },
    {
      "id": 76,
      "type": "MarkdownNote",
      "pos": [
        79.51263427734375,
        -786.377197265625
      ],
      "size": [
        1185.261962890625,
        291.8840637207031
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "READ ME",
      "properties": {},
      "widgets_values": [
        "# ComfyUI allows users to extract the workflow used to generate an image if the image's metadata contains the workflow information. This is a common feature where PNG files generated by ComfyUI often embed the workflow JSON directly within their metadata.\n\n## To load a workflow from such an image:\n\n### Drag and Drop:\n- Locate the image file on your computer and drag it directly onto the ComfyUI canvas in your web browser.  \n- ComfyUI will automatically detect the embedded workflow and load it, populating the canvas with the nodes and connections used to create that image.\n\n### Using the Menu:\n- Alternatively, you can use the ComfyUI interface menu.  \n- Navigate to the **\"Workflows\"** menu (or **\"File\"** depending on your ComfyUI version).  \n- Select **\"Open\"** (or **\"Load\"**).  \n- Browse to the location of the image file on your computer and select it.  \n- ComfyUI will then load the workflow from the image's metadata.\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    }
  ],
  "links": [
    [
      4,
      3,
      0,
      6,
      0,
      "*"
    ],
    [
      7,
      11,
      0,
      9,
      0,
      "IMAGE"
    ],
    [
      8,
      3,
      1,
      7,
      0,
      "*"
    ],
    [
      9,
      9,
      0,
      12,
      0,
      "*"
    ],
    [
      19,
      29,
      0,
      30,
      0,
      "MASK"
    ],
    [
      21,
      30,
      0,
      32,
      0,
      "IMAGE"
    ],
    [
      37,
      54,
      0,
      19,
      0,
      "IMAGE"
    ],
    [
      38,
      19,
      0,
      55,
      0,
      "*"
    ],
    [
      39,
      19,
      1,
      57,
      0,
      "*"
    ],
    [
      40,
      19,
      2,
      58,
      0,
      "*"
    ],
    [
      52,
      64,
      3,
      69,
      0,
      "METADATA_RAW"
    ],
    [
      54,
      69,
      2,
      70,
      0,
      "*"
    ],
    [
      56,
      69,
      3,
      72,
      0,
      "*"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "TAG EXTRACTOR FROM LORA",
      "bounding": [
        73.09175109863281,
        -465.6125793457031,
        1201.244873046875,
        896.2637939453125
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "IMAGE TAGGER",
      "bounding": [
        1301.324951171875,
        -599.53564453125,
        1450.7359619140625,
        1196.758056640625
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Image Masking",
      "bounding": [
        1302.9498291015625,
        619.6326904296875,
        1029.6995849609375,
        662.6830444335938
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "IMAGE INFO",
      "bounding": [
        82.2193832397461,
        460.5040283203125,
        1189.2813720703125,
        505.23968505859375
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "META DATA",
      "bounding": [
        55.94049835205078,
        1003.9502563476562,
        1211.217041015625,
        1091.3572998046875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.2853116706110056,
      "offset": [
        176.66637183418553,
        786.784700615189
      ]
    },
    "frontendVersion": "1.26.11"
  },
  "version": 0.4
}